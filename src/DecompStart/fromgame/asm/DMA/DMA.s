.include "macros.inc"
.file "DMA.s"

# Combined DMA & bus-error handling assembly
.text
.balign 4
.fn DMAErrorHandler, global
/* 8026AE30 00266230  94 21 FF 80 */	stwu r1, -0x80(r1)
/* 8026AE34 00266234  7C 08 02 A6 */	mflr r0
/* 8026AE38 00266238  90 01 00 84 */	stw r0, 0x84(r1)
/* 8026AE3C 0026623C  93 E1 00 7C */	stw r31, 0x7c(r1)
/* 8026AE40 00266240  93 C1 00 78 */	stw r30, 0x78(r1)
/* 8026AE44 00266244  93 A1 00 74 */	stw r29, 0x74(r1)
/* 8026AE48 00266248  7C 9D 23 78 */	mr r29, r4
/* 8026AE4C 0026624C  40 86 00 24 */	bne cr1, .L_8026AE70
/* 8026AE50 00266250  D8 21 00 28 */	stfd f1, 0x28(r1)
/* 8026AE54 00266254  D8 41 00 30 */	stfd f2, 0x30(r1)
/* 8026AE58 00266258  D8 61 00 38 */	stfd f3, 0x38(r1)
/* 8026AE5C 0026625C  D8 81 00 40 */	stfd f4, 0x40(r1)
/* 8026AE60 00266260  D8 A1 00 48 */	stfd f5, 0x48(r1)
/* 8026AE64 00266264  D8 C1 00 50 */	stfd f6, 0x50(r1)
/* 8026AE68 00266268  D8 E1 00 58 */	stfd f7, 0x58(r1)
/* 8026AE6C 0026626C  D9 01 00 60 */	stfd f8, 0x60(r1)
.L_8026AE70:
/* 8026AE70 00266270  3F E0 80 5A */	lis r31, "@909_8059EBB8"@ha
/* 8026AE74 00266274  90 61 00 08 */	stw r3, 0x8(r1)
/* 8026AE78 00266278  3B FF EB B8 */	addi r31, r31, "@909_8059EBB8"@l
/* 8026AE7C 0026627C  90 81 00 0C */	stw r4, 0xc(r1)
/* 8026AE80 00266280  90 A1 00 10 */	stw r5, 0x10(r1)
/* 8026AE84 00266284  90 C1 00 14 */	stw r6, 0x14(r1)
/* 8026AE88 00266288  90 E1 00 18 */	stw r7, 0x18(r1)
/* 8026AE8C 0026628C  91 01 00 1C */	stw r8, 0x1c(r1)
/* 8026AE90 00266290  91 21 00 20 */	stw r9, 0x20(r1)
/* 8026AE94 00266294  91 41 00 24 */	stw r10, 0x24(r1)
/* 8026AE98 00266298  4B FD 62 59 */	bl PPCMfhid2
/* 8026AE9C 0026629C  7C 7E 1B 78 */	mr r30, r3
/* 8026AEA0 002662A0  38 7F 00 00 */	addi r3, r31, 0x0
/* 8026AEA4 002662A4  4C C6 31 82 */	crclr cr1eq
/* 8026AEA8 002662A8  48 00 0A 99 */	bl OSReport
/* 8026AEAC 002662AC  80 BD 01 9C */	lwz r5, 0x19c(r29)
/* 8026AEB0 002662B0  7F C4 F3 78 */	mr r4, r30
/* 8026AEB4 002662B4  38 7F 00 18 */	addi r3, r31, 0x18
/* 8026AEB8 002662B8  4C C6 31 82 */	crclr cr1eq
/* 8026AEBC 002662BC  48 00 0A 85 */	bl OSReport
/* 8026AEC0 002662C0  57 C0 02 17 */	rlwinm. r0, r30, 0, 8, 11
/* 8026AEC4 002662C4  41 82 00 10 */	beq .L_8026AED4
/* 8026AEC8 002662C8  80 1D 01 9C */	lwz r0, 0x19c(r29)
/* 8026AECC 002662CC  54 00 02 95 */	rlwinm. r0, r0, 0, 10, 10
/* 8026AED0 002662D0  40 82 00 1C */	bne .L_8026AEEC
.L_8026AED4:
/* 8026AED4 002662D4  38 7F 00 38 */	addi r3, r31, 0x38
/* 8026AED8 002662D8  4C C6 31 82 */	crclr cr1eq
/* 8026AEDC 002662DC  48 00 0A 65 */	bl OSReport
/* 8026AEE0 002662E0  7F A3 EB 78 */	mr r3, r29
/* 8026AEE4 002662E4  48 00 07 2D */	bl OSDumpContext
/* 8026AEE8 002662E8  4B FD 61 39 */	bl PPCHalt
.L_8026AEEC:
/* 8026AEEC 002662EC  38 7F 00 68 */	addi r3, r31, 0x68
/* 8026AEF0 002662F0  4C C6 31 82 */	crclr cr1eq
/* 8026AEF4 002662F4  48 00 0A 4D */	bl OSReport
/* 8026AEF8 002662F8  38 7F 00 A4 */	addi r3, r31, 0xa4
/* 8026AEFC 002662FC  4C C6 31 82 */	crclr cr1eq
/* 8026AF00 00266300  48 00 0A 41 */	bl OSReport
/* 8026AF04 00266304  57 C0 02 11 */	rlwinm. r0, r30, 0, 8, 8
/* 8026AF08 00266308  41 82 00 10 */	beq .L_8026AF18
/* 8026AF0C 0026630C  38 7F 00 DC */	addi r3, r31, 0xdc
/* 8026AF10 00266310  4C C6 31 82 */	crclr cr1eq
/* 8026AF14 00266314  48 00 0A 2D */	bl OSReport
.L_8026AF18:
/* 8026AF18 00266318  57 C0 02 53 */	rlwinm. r0, r30, 0, 9, 9
/* 8026AF1C 0026631C  41 82 00 10 */	beq .L_8026AF2C
/* 8026AF20 00266320  38 7F 01 1C */	addi r3, r31, 0x11c
/* 8026AF24 00266324  4C C6 31 82 */	crclr cr1eq
/* 8026AF28 00266328  48 00 0A 19 */	bl OSReport
.L_8026AF2C:
/* 8026AF2C 0026632C  57 C0 02 95 */	rlwinm. r0, r30, 0, 10, 10
/* 8026AF30 00266330  41 82 00 10 */	beq .L_8026AF40
/* 8026AF34 00266334  38 7F 01 48 */	addi r3, r31, 0x148
/* 8026AF38 00266338  4C C6 31 82 */	crclr cr1eq
/* 8026AF3C 0026633C  48 00 0A 05 */	bl OSReport
.L_8026AF40:
/* 8026AF40 00266340  57 C0 02 D7 */	rlwinm. r0, r30, 0, 11, 11
/* 8026AF44 00266344  41 82 00 10 */	beq .L_8026AF54
/* 8026AF48 00266348  38 7F 01 68 */	addi r3, r31, 0x168
/* 8026AF4C 0026634C  4C C6 31 82 */	crclr cr1eq
/* 8026AF50 00266350  48 00 09 F1 */	bl OSReport
.L_8026AF54:
/* 8026AF54 00266354  7F C3 F3 78 */	mr r3, r30
/* 8026AF58 00266358  4B FD 61 A9 */	bl PPCMthid2
/* 8026AF5C 0026635C  80 01 00 84 */	lwz r0, 0x84(r1)
/* 8026AF60 00266360  83 E1 00 7C */	lwz r31, 0x7c(r1)
/* 8026AF64 00266364  83 C1 00 78 */	lwz r30, 0x78(r1)
/* 8026AF68 00266368  83 A1 00 74 */	lwz r29, 0x74(r1)
/* 8026AF6C 0026636C  7C 08 03 A6 */	mtlr r0
/* 8026AF70 00266370  38 21 00 80 */	addi r1, r1, 0x80
/* 8026AF74 00266374  4E 80 00 20 */	blr
.endfn DMAErrorHandler

